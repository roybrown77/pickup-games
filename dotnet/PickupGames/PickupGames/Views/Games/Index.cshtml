@using PickupGames.Models
@using PickupGames.Domain.Objects
@model PickupGames.Models.GamesModel
@{
    ViewBag.Title = "Games";
}

<div style="float:left;width:45%">
    <div id="map-canvas" style="width:100%; height:900px; background-color: white"></div>
</div>

<div style="left: 45%;position: absolute;width:100%">
    <div>
        @Html.Partial("Search", Model.GameSearchModel)
    </div>          
    
    <div class="results-footer">
        <div class="pagination-buttons-container">
            <div class="results_count">
                <p>
                    1 – 18 of 879 Games
                </p>
            </div>
        
            <div id="pagination"></div>
        </div>

        <div class="breadcrumbs" itemprop="breadcrumb" style="margin-bottom:1em">
            bread crumbs
        </div>
    </div>

    <div id="gamelist">            
        @foreach (var game in Model.GameListModel)
        {
            <div data-id="@game.Id">            
                <div>
                    @game.Name          
                </div>
                <div>
                    @game.Sport
                </div>                 
                <div>
                    @game.GameDate
                </div>                                 
                <div>
                    @game.GameTime
                </div>                 
                <div class="location" data-lat="@game.LocationLat" data-lng="@game.LocationLng">
                    @game.Location
                </div>                                                
                <div>
                    @game.PlayerCount
                    <span>players joined</span>
                </div>
                <div>
                    @game.DistanceToCenterLocation
                </div>
                <div>
                    @game.Duration
                </div>
                <div>
                    @game.Status
                </div>
                <div>
                    @game.AgeGroup
                </div>
                <div>
                    @game.Notes
                </div>
                <div>
                    @game.Views
                </div>      
                <button onclick="javascript:joinGame('@game.Id');">Join</button>
                <button onclick="javascript:watchGame('@game.Id');">Watch</button>
                <button>Edit</button>
                <button onclick="javascript:deleteGame('@game.Id');">Delete</button>           
            </div>
        }
    </div>
</div>

<script id="gamesTemplate" type="text/html"> 
    {{#games}} 
    <div data-id={{Id}} style="margin-top:1em">            
        <div>
            {{Name}}          
        </div>
        <div>
            {{Sport}}
        </div>                 
        <div>
            {{GameDate}}
        </div>                                 
        <div>
            {{GameTime}}
        </div>                 
        <div class="location" data-lat={{LocationLat}} data-lng={{LocationLng}}>
            {{Location}}
        </div>                 
        <div>
            {{PlayerCount}}
            <span>players joined</span>
        </div>                 
        <div>
            {{DistanceToCenterLocation}} 
        </div>
        <div>
            {{Duration}} 
        </div>
        <div>
            {{Status}} 
        </div>
        <div>
            {{AgeGroup}} 
        </div>
        <div>
            {{Notes}} 
        </div>
        <div>
            {{Views}} 
        </div>       
        <button onclick="javascript:joinGame('{{Id}}');">Join</button>
        <button onclick="javascript:watchGame('{{Id}}');">Watch</button>
        <button>Edit</button>
        <button onclick="javascript:deleteGame('{{Id}}');">Delete</button>          
    </div> 
    {{/games}}   
</script>